"use strict";!function($,window){var ClassVariable;return ClassVariable=function(){function QamineUtils(){}function ajaxRequest(type,url,contentType,payload,callback,errorCallback){return url?void $.ajax({url:url,type:type,data:payload,contentType:contentType,success:function(response){response.redirect?window.location=response.redirect:callback&&callback(response)},error:function(e,m){errorCallback&&errorCallback(e,m)},complete:function(){}}):void errorCallback("undefined url")}QamineUtils.prototype.request=function(url,callback,errorCallback){ajaxRequest("GET",url,$.ajaxSettings.contentType,"",callback,errorCallback)},QamineUtils.prototype.post=function(url,variable,callback,errorCallback){ajaxRequest("POST",url,"application/json",JSON.stringify(variable),callback,errorCallback)},QamineUtils.prototype.postDocument=function(url,data){var mapForm=$("<form id='CodacyUtilsForm' action='"+url+"' method='POST'></form>");for(var key in data)data.hasOwnProperty(key)&&mapForm.append("<input type='hidden' name='"+key+"' id='"+key+"' value='"+data[key]+"' />");$("body").append(mapForm),mapForm.submit()},QamineUtils.prototype.contains=function(searchTerm,text){if(!searchTerm)return!0;for(var textToSearch=text.toLowerCase(),termsToSearch=searchTerm.toLowerCase().split(" "),i=0;i<termsToSearch.length;i++)if(termsToSearch[i].trim()&&-1!==textToSearch.indexOf(termsToSearch[i]))return!0;return!1},QamineUtils.prototype.startsWith=function(searchTerm,text){return 0===text.indexOf(searchTerm)},QamineUtils.prototype.addCSS=function(url){var head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.rel="stylesheet",link.type="text/css",link.href=url,link.media="all",head.appendChild(link)},QamineUtils.prototype.addTo=function(selector,url,callback){QamineUtils.prototype.request(url,function(result){$(selector).html(result),callback&&callback()})},QamineUtils.prototype.prettyTime=function(){$(".PrettyTime").timeago()},QamineUtils.prototype.initializeTabs=function(tabsClass){var hash=window.location.hash;tabsClass=tabsClass||"nav",hash&&$("ul."+tabsClass+" a[href='"+hash+"']").tab("show"),$("."+tabsClass+" a").click(function(){$(this).tab("show")})},QamineUtils.prototype.showUnseenNotifications=function(getUrl,markAsReadUrl){ClassVariable.markAsReadUrl=markAsReadUrl,QamineUtils.prototype.request(getUrl,function(data){var notifications=jQuery.parseJSON(data.value);$.each(notifications,function(index,element){QamineUtils.prototype.showNotification(element)})})},QamineUtils.prototype.showNotification=function(notification){notification.notificationType&&"Silent"!==notification.notificationType&&$(".notifications").notify({type:notification.notificationType.toLowerCase(),message:{html:"<b>"+notification.title+"</b>:&nbsp;"+notification.message+"&nbsp;"},fadeOut:{enabled:!0,delay:1e4},onClosed:function(){if(ClassVariable.markAsReadUrl){var postVariable={};postVariable.notificationId=""+notification.id,QamineUtils.prototype.post(ClassVariable.markAsReadUrl,postVariable)}}}).show()},QamineUtils.prototype.createNotification=function(type,title,message){var notification={};return notification.notificationType=type,notification.title=title,notification.message=message,notification},QamineUtils.prototype.stringFormat=function(format){var args=Array.prototype.slice.call(arguments,1);return format.replace(/{(\d+)}/g,function(match,number){return"undefined"!=typeof args[number]?args[number]:match})},QamineUtils.prototype.initDial=function(selector,width,percentage,delta){var normalizedDelta=delta;0>delta?normalizedDelta=Math.abs(delta):delta>=99&&(normalizedDelta=99);var series={series:[percentage,normalizedDelta,100-(percentage+normalizedDelta)]};0==percentage&&0==delta&&(series={series:[100]});var options={donut:!0,donutWidth:width/12,startAngle:0,showLabel:!1,width:width};options.classNames={},0==percentage&&0==delta&&(options.classNames.series="ct-series-empty"),0>delta&&(options.classNames.series="ct-series-delta"),Chartist.Pie(selector,series,options)},QamineUtils.prototype.initDialSeries=function(selector,width,values,showLabel){var series,options={donut:!0,donutWidth:width/12,startAngle:0,showLabel:showLabel,labelOffset:-17,width:width};values.length?series={series:values}:(options.showLabel=!1,options.classNames={},options.classNames.series="ct-series-empty",series={series:[100]}),Chartist.Pie(selector,series,options)},QamineUtils.prototype.replacedParameter=function(url,paramName,paramValue){return url.replace(new RegExp(paramName+"=.+?(&|$)","i"),paramName+"="+paramValue+"&").replace(/&$/g,"")},QamineUtils.prototype.replacedParameters=function(url,paramsObj){return _.reduce(paramsObj,function(url,value,key){return replacedParameter(url,key,value)},url)},QamineUtils.prototype.htmlDecode=function(value){return $("<div/>").html(value).text()};var instance;return{getInstance:function(){return void 0===instance&&(instance=new QamineUtils,instance.constructor=null),instance}}}(),window.QamineUtils=ClassVariable,window.QamineUtils}(jQuery,window);
//# sourceMappingURL=qamine-utils.min.js.map